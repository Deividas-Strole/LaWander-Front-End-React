{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Deividas\\\\MyProjects\\\\React\\\\maps\\\\src\\\\components\\\\ChatComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./ChatComponent.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatComponent = () => {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const [chatHistory, setChatHistory] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const handleInputChange = e => {\n    setMessage(e.target.value);\n  };\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!message.trim()) return;\n\n    // Add user message to chat history\n    const userMessage = {\n      text: message,\n      sender: \"user\"\n    };\n    setChatHistory(prev => [...prev, userMessage]);\n\n    // Clear input field\n    setMessage(\"\");\n    setIsLoading(true);\n    try {\n      // Send message to backend\n      const response = await fetch(\"/api/chat\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          message: userMessage.text\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to get response from LaWander\");\n      }\n      const data = await response.json();\n\n      // Add LaWander's response to chat history\n      const lawanderResponse = {\n        text: data.response,\n        sender: \"lawander\"\n      };\n      setChatHistory(prev => [...prev, lawanderResponse]);\n    } catch (error) {\n      console.error(\"Error:\", error);\n      // Add error message to chat history\n      const errorMessage = {\n        text: \"Sorry, I encountered an error. Please try again.\",\n        sender: \"lawander\",\n        isError: true\n      };\n      setChatHistory(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Talk to LaWander\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      children: [chatHistory.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${msg.sender === \"user\" ? \"user-message\" : \"lawander-message\"}`,\n        children: [msg.sender === \"lawander\" && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"lawander-name\",\n          children: \"LaWander: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: msg.isError ? \"error-text\" : \"\",\n          children: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message lawander-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"lawander-name\",\n          children: \"LaWander: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"loading-text\",\n          children: \"Thinking...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: message,\n        onChange: handleInputChange,\n        onKeyPress: handleKeyPress,\n        placeholder: \"Type your message here...\",\n        className: \"chat-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSendMessage,\n        className: \"send-button\",\n        disabled: isLoading || !message.trim(),\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatComponent, \"sYLrRA0s2CBN8RiZA1PrNwqR5UI=\");\n_c = ChatComponent;\nexport default ChatComponent;\nvar _c;\n$RefreshReg$(_c, \"ChatComponent\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ChatComponent","_s","message","setMessage","chatHistory","setChatHistory","isLoading","setIsLoading","handleInputChange","e","target","value","handleKeyPress","key","handleSendMessage","trim","userMessage","text","sender","prev","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","lawanderResponse","error","console","errorMessage","isError","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","type","onChange","onKeyPress","placeholder","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Deividas/MyProjects/React/maps/src/components/ChatComponent.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./ChatComponent.css\";\r\n\r\nconst ChatComponent = () => {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [chatHistory, setChatHistory] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleInputChange = (e) => {\r\n    setMessage(e.target.value);\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!message.trim()) return;\r\n\r\n    // Add user message to chat history\r\n    const userMessage = { text: message, sender: \"user\" };\r\n    setChatHistory((prev) => [...prev, userMessage]);\r\n\r\n    // Clear input field\r\n    setMessage(\"\");\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // Send message to backend\r\n      const response = await fetch(\"/api/chat\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ message: userMessage.text }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to get response from LaWander\");\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      // Add LaWander's response to chat history\r\n      const lawanderResponse = { text: data.response, sender: \"lawander\" };\r\n      setChatHistory((prev) => [...prev, lawanderResponse]);\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n      // Add error message to chat history\r\n      const errorMessage = {\r\n        text: \"Sorry, I encountered an error. Please try again.\",\r\n        sender: \"lawander\",\r\n        isError: true,\r\n      };\r\n      setChatHistory((prev) => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-container\">\r\n      <div className=\"chat-header\">\r\n        <h2>Talk to LaWander</h2>\r\n      </div>\r\n\r\n      <div className=\"chat-messages\">\r\n        {chatHistory.map((msg, index) => (\r\n          <div\r\n            key={index}\r\n            className={`message ${\r\n              msg.sender === \"user\" ? \"user-message\" : \"lawander-message\"\r\n            }`}\r\n          >\r\n            {msg.sender === \"lawander\" && (\r\n              <span className=\"lawander-name\">LaWander: </span>\r\n            )}\r\n            <span className={msg.isError ? \"error-text\" : \"\"}>{msg.text}</span>\r\n          </div>\r\n        ))}\r\n        {isLoading && (\r\n          <div className=\"message lawander-message\">\r\n            <span className=\"lawander-name\">LaWander: </span>\r\n            <span className=\"loading-text\">Thinking...</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"chat-input-container\">\r\n        <input\r\n          type=\"text\"\r\n          value={message}\r\n          onChange={handleInputChange}\r\n          onKeyPress={handleKeyPress}\r\n          placeholder=\"Type your message here...\"\r\n          className=\"chat-input\"\r\n        />\r\n        <button\r\n          onClick={handleSendMessage}\r\n          className=\"send-button\"\r\n          disabled={isLoading || !message.trim()}\r\n        >\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}